<!DOCTYPE html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How to use custom HTML email templates with SendGrid</title>
  <meta name="description" content="Learn how to set up SendGrid to use your custom responsive HTML email templates">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="http://localhost:4000/css/main.css">
  <link rel="icon" type="image/x-icon" href="/favicon.png" />
  <link rel="preload" href="/img/symbol/svg/sprite.symbol.svg" as="image">
  <link rel="canonical" href="http://localhost:4000/blog/custom-sendgrid-templates" />
  <link rel="alternate" type="application/rss+xml" title="RSS Feed for HTML Email" href="http://localhost:4000/feed.xml" />
  <!--[if lt IE 9]> <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script> <![endif]-->
</head>
<body>

<header class="header">
  <div class="container container--header">
    <div class="group">
      <div class="span4">
        <ul class="navbar navbar--header">
          <li><a href="/blog" class="active">Blog</a></li>
          <li><a href="/inline">Inline CSS</a></li>
          <li><a href="/send">Send Email</a></li>
        </ul>
      </div>
      <div class="span4">
        <div class="logo">
          <a href="/"><svg class="logo-svg"><use xlink:href="/img/symbol/svg/sprite.symbol.svg#src--logo-inline"></use></svg></a>
        </div>
      </div>
      <div class="span4 text-right">
        <a href="/#templates" class="btn btn-primary btn-primary--header">Email Templates</a>
      </div>
    </div>
  </div>
</header>

<div class="container container--blog">

  <h1>How to use custom HTML email templates with SendGrid</h1>
  <!-- <p class="blog-meta">Last updated <time datetime="2017-09-11" itemprop="datePublished" pubdate="">11 September 2017</time></p> -->

  <figure class="blog--image">
  <img src="http://localhost:4000/img/sendgrid.gif" alt="SendGrid" width="200" />
</figure>

<p>Congratulations! You’ve just downloaded your set of <a href="http://htmlemail.io">responsive HTML email templates</a> and are ready to start sending professional looking emails from your ESP (Email Service Provider). Now you need to put them into SendGrid so you can use them.</p>

<p><a href="https://sendgrid.com">SendGrid</a> is a great developer solution for an ESP and includes features for sending marketing campaigns, transactional emails and tracking deliverability.</p>

<p>With SendGrid you can either store your HTML as a reusable template or you can send it as part of your API request.</p>

<h3 id="how-to-use-custom-email-templates-for-sendgrid-transactional-emails">How to use custom email templates for SendGrid transactional emails</h3>

<ul>
  <li>Open your SendGrid dashboard</li>
  <li>Go to <code class="highlighter-rouge">Templates</code> &gt; <code class="highlighter-rouge">Transactional</code></li>
  <li>Create a new template and give it a memorable name</li>
  <li>Add a new version of that template</li>
  <li>Select the <code class="highlighter-rouge">Code Editor</code> option</li>
  <li>Copy over the <em>inlined</em> version of the template you want to use</li>
  <li>Replace the unsubscribe url with the SendGrid tag <code class="highlighter-rouge">&lt;%asm_group_unsubscribe_raw_url%&gt;</code></li>
  <li>Update your placeholder content with SendGrid <a href="https://sendgrid.com/docs/API_Reference/SMTP_API/substitution_tags.html">sub tags</a> e.g. <code class="highlighter-rouge">&lt;%body-text-goes-here%&gt;</code> or <code class="highlighter-rouge">&lt;%alertText%&gt;</code></li>
  <li>Send a test to yourself</li>
  <li>Call this template’s ID when using the API</li>
</ul>

<p>Lets look at some of these in more detail.</p>

<h4 id="create-a-template-and-copy-the-code-across">Create a template and copy the code across</h4>

<p>Open your email template in your editor of choice so you can see the code. Select all, copy, then paste into SendGrid. Here I’ve copied across the inlined receipt email code.</p>

<figure class="blog--image">
  <img src="http://localhost:4000/img/sendgrid-create.jpg" alt="Create HTML email template" width="500" />
</figure>

<figure class="blog--image">
  <img src="http://localhost:4000/img/sendgrid-copy.jpg" alt="Copy code" width="600" />
</figure>

<h4 id="update-the-placeholder-content-with-sendgrid-sub-tags">Update the placeholder content with SendGrid sub tags</h4>

<p>So that you can use this template, SendGrid needs to know where you want to place the variables and content that you send with your API call.</p>

<p>First, replace the unsubscribe link with the <code class="highlighter-rouge">&lt;%asm_group_unsubscribe_raw_url%&gt;</code> tag like so:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code>Don't like these emails? <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"&lt;%asm_group_unsubscribe_raw_url%&gt;"</span> <span class="na">style=</span><span class="s">"text-decoration: underline; color: #999999; font-size: 12px; text-align: center;"</span><span class="nt">&gt;</span>Unsubscribe<span class="nt">&lt;/a&gt;</span>
</code></pre>
</div>

<p>Then put SendGrid sub tags where you want the content e.g. in the receipt email below you can see I’ve placed tags like <code class="highlighter-rouge">&lt;%item%&gt;</code> and <code class="highlighter-rouge">&lt;%price%&gt;</code></p>

<figure class="blog--image">
  <img src="http://localhost:4000/img/sendgrid-tags.jpg" alt="Sub tags" width="600" />
</figure>

<h4 id="dont-forget-about-preheader-text">Don’t forget about preheader text</h4>

<p>As it is not visible it is easy to forget but you should also be replacing preheader text with a sub tag and sending preheader text with each request.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"preheader"</span> <span class="na">style=</span><span class="s">"color: transparent; display: none; height: 0; max-height: 0; max-width: 0; opacity: 0; overflow: hidden; mso-hide: all; visibility: hidden; width: 0;"</span><span class="nt">&gt;</span><span class="err">&lt;</span>%preheader%&gt;<span class="nt">&lt;/span&gt;</span>
</code></pre>
</div>

<h4 id="using-images">Using images</h4>

<p>SendGrid offers a handy image upload manager so you can upload your template images and reference them. They then do the hosting for you so no need to worry about an external CDN.</p>

<figure class="blog--image">
  <img src="http://localhost:4000/img/sendgrid-upload.jpg" alt="Upload images" width="600" />
</figure>

<h4 id="start-sending">Start sending</h4>

<p>That should be you ready to go. When you make your <a href="https://sendgrid.com/docs/API_Reference/Web_API_v3/Transactional_Templates/smtpapi.html">API call</a> to SendGrid, include the ID of the template and provide it with the necessary <a href="https://SendGrid.com/docs/API_Reference/SMTP_API/substitution_tags.html">sub tags</a> it needs to render.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="o">{</span>
  <span class="s2">"to"</span>: <span class="o">[</span>
    <span class="s2">"hello@htmlemail.io"</span>
  <span class="o">]</span>,
  <span class="s2">"sub"</span>: <span class="o">{</span>
    <span class="s2">":name"</span>: <span class="o">[</span>
      <span class="s2">"Lee"</span>
    <span class="o">]</span>,
    <span class="s2">":item"</span>: <span class="o">[</span>
      <span class="s2">"Monthly Subscription"</span>
    <span class="o">]</span>,
    <span class="s2">":price"</span>: <span class="o">[</span>
      <span class="s2">"</span><span class="nv">$20</span><span class="s2">"</span>
    <span class="o">]</span>
  <span class="o">}</span>,
  <span class="s2">"filters"</span>: <span class="o">{</span>
    <span class="s2">"templates"</span>: <span class="o">{</span>
      <span class="s2">"settings"</span>: <span class="o">{</span>
        <span class="s2">"enable"</span>: 1,
        <span class="s2">"template_id"</span>: <span class="s2">"fa2ef42e-f70b-4951-a671-cf3b53b01123"</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h3 id="further-reading">Further reading</h3>

<ul>
  <li><a href="https://sendgrid.com/docs/User_Guide/Transactional_Templates/create_edit.html">SendGrid: Create and edit templates</a></li>
  <li><a href="https://sendgrid.com/docs/API_Reference/Web_API_v3/Transactional_Templates/index.html">SendGrid: Templates API docs</a></li>
</ul>

<h3 id="other-email-service-template-tutorials">Other email service template tutorials</h3>

<ul>
  <li><a href="https://htmlemail.io/blog/custom-mailchimp-templates">Mailchimp</a></li>
  <li><a href="https://htmlemail.io/blog/custom-intercom-templates">Intercom</a></li>
  <li><a href="https://htmlemail.io/blog/custom-customerio-templates">Customer.io</a></li>
</ul>


  <div class="social-sharing-container">
    <!-- Sharingbutton Facebook -->
    <a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=http://localhost:4000/blog/custom-sendgrid-templates" target="_blank" aria-label="Share on Facebook">
      <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
            <g>
                <path d="M18.768,7.465H14.5V5.56c0-0.896,0.594-1.105,1.012-1.105s2.988,0,2.988,0V0.513L14.171,0.5C10.244,0.5,9.5,3.438,9.5,5.32 v2.145h-3v4h3c0,5.212,0,12,0,12h5c0,0,0-6.85,0-12h3.851L18.768,7.465z"/>
            </g>
        </svg>
        </div>Share on Facebook</div>
    </a>

    <!-- Sharingbutton Twitter -->
    <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=How to use custom HTML email templates with SendGrid&amp;url=http://localhost:4000/blog/custom-sendgrid-templates" target="_blank" aria-label="Share on Twitter">
      <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
            <g>
                <path d="M23.444,4.834c-0.814,0.363-1.5,0.375-2.228,0.016c0.938-0.562,0.981-0.957,1.32-2.019c-0.878,0.521-1.851,0.9-2.886,1.104 C18.823,3.053,17.642,2.5,16.335,2.5c-2.51,0-4.544,2.036-4.544,4.544c0,0.356,0.04,0.703,0.117,1.036 C8.132,7.891,4.783,6.082,2.542,3.332C2.151,4.003,1.927,4.784,1.927,5.617c0,1.577,0.803,2.967,2.021,3.782 C3.203,9.375,2.503,9.171,1.891,8.831C1.89,8.85,1.89,8.868,1.89,8.888c0,2.202,1.566,4.038,3.646,4.456 c-0.666,0.181-1.368,0.209-2.053,0.079c0.579,1.804,2.257,3.118,4.245,3.155C5.783,18.102,3.372,18.737,1,18.459 C3.012,19.748,5.399,20.5,7.966,20.5c8.358,0,12.928-6.924,12.928-12.929c0-0.198-0.003-0.393-0.012-0.588 C21.769,6.343,22.835,5.746,23.444,4.834z"/>
            </g>
        </svg>
        </div>Share on Twitter</div>
    </a>
  </div>

  <div class="post-subscribe">
    <h3>Receive more email design content like this to your inbox</h3>
    <form method="post" action="//leemunroe.us1.list-manage.com/subscribe/post?u=1998df7f0f3a32bdf922938ca&amp;id=4bf2c8f8b9" target="_blank">
      <input type="email" name="EMAIL" placeholder="Enter your email" id="mce-EMAIL" required>
      <button class="btn btn-primary">Subscribe</button>
    </form>
    <p>No spam. Just related email content.</p>
  </div>

  <div id="disqus_thread"></div>
  <script>

  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = '//html-email.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                                

</div>

  <footer>
    <div class="container">
      <div class="group">
        <div class="span6">
          <h3>Sign Up For Updates</h3>
          <p>When you opt-in we'll send you a sample of a simple responsive HTML email so you can see it in action.</p>
          <form action="//leemunroe.us1.list-manage.com/subscribe/post?u=1998df7f0f3a32bdf922938ca&amp;id=4bf2c8f8b9" method="post" class="subscribe-form__footer">
            <input type="email" value="" name="EMAIL" id="mce-EMAIL-2"> <button type="submit" class="btn btn-primary">Subscribe</button>
          </form>
        </div>
        <div class="span6">
          <ul>
            <li><a href="/blog">Blog</a></li>
            <li><a href="/inline">Inline CSS</a></li>
            <li><a href="https://github.com/leemunroe/htmlemail/issues">Support / Issue Tracker</a></li>
            <li><a href="https://github.com/leemunroe/htmlemail/">Documentation</a></li>
            <li><a href="mailto:hello@htmlemail.io">hello@htmlemail.io</a></li>
            <li><a href="http://twitter.com/htmlemailio">@htmlemailio</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <script src="http://localhost:4000/js/build.js"></script>

  

</body>
</html>
